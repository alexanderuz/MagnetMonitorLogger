![](https://github.com/alexanderuz/MagnetMonitorLogger/raw/master/images/preview.jpg)



# Magnet Monitor Remote Viewer

### Описание

- Программа для удаленного просмотра параметров GE Magnet Monitor 3;
- Кросплатформенное консольное приложение;
- Использует HtmlUnitDriver и эмулирует работу оператора с Web-интерфейсом;
- Прячется в трей;
- Ведёт лог опроса оборудования;
- Позволяет просматривать ошибки на устройстве;
- Предоставляет собственный Web-интерфейс для удаленного контроля;
- Сохраняет полученные данные в базу данных SQLite
- Передает все записанные данные на удаленный сервер
- Отправляет SMS при помощи USB модема при выходе показателей за пределы


### Как пользоваться
- На компьютере должен быть установлен Java-интерпретатор, можно скачать отсюда: https://www.java.com/ru/download/ 
- Необходимо запустить Web-интерфейс на устройстве (нажать на консоли прибора кнопки: Service mode - Service mode - Yes);
- Необходимо в параметрах устройствах (кнопка Data) узнать его адрес в вашей локальной сети;
- Запустить Magnet Monitor Remote Viewer;
- Убедиться что компьютер, на котором вы запустили программу, находится в одной локальной сети с вашим устройством;
- Добавить ваше устройство с помощью формы добавления оборудования;
- Настроить интервал опроса оборудования на вкладке Settings, по умолчанию 15 минут;
- Выбрать порт для Web-интерфейса программы, по умолчанию 8765;
- Для доступа в Web-интерфейс, в адресной строке браузера набрать: http://localhost:8765 - где localhost - адрес машины на которой запущена программа;
- Для передачи данных на сервер необходимо в натсройках указать адрес сервера, а также строку авторизации.
Данные отправляются на указанный адрес в виде JSON объекта методом POST 

### Предостережение

- Для доступа к Web-интерфейсу GE Magnet Monitor 3, данная программа передает логин и пароль администратора в открытом виде, убедитесь что конфигурация вашей локальной сети, исключает возможность попадания этих данных к третьим лицам;  
- Антивирусы и защитник Windows могут блокировать сетевые функции программы, рекомендуется запускать программу с правами администратора;
- Некоторые экземпляры устройств автоматически выключают доступ к веб-интерфейсу по прошествии определнного времени. Для работы в таком случае необходимо постоянно включать доступ.

### Установка SMSLib
[Скачать библиотеку можно здесь](https://stackjava.com/wp-content/uploads/2017/11/smslib.zip)

- Скопировать RXTXcomm.jar в папки: %JAVA_HOME%/lib и %JAVA_HOME%/jre/lib/ext
- Скопировать rxtxParallel.dll и rxtxSerial.dll в папки: %JAVA_HOME%/bin и %JAVA_HOME%/jre/bin
(Можно заменить RXTXcomm.jar на comm.jar, а также rxtxParallel.dll и rxtxSerial.dll на win32com.dll: но это работает только для 32-битных систем)
%JAVA_HOME% это каталог где установлен JDK
- Подробные инструкции можно просмореть внутри архива smslib

These .dll files allow jvm to connect to devices

For example, I install jdk in folder: C:\Program Files\Java\jdk1.8.0_131.

# [Скачать Magnet Monitor Logger](https://github.com/alexanderuz/MagnetMonitorLogger/blob/master/out/artifacts/MagMon_jar/MagMon.jar)